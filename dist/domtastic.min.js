!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.$=t()}(this,function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(t){var n=function t(){e(this,t),m.call(this,l.apply(void 0,arguments))};return o(n.prototype,t),n}var n=new Function("return this")(),r=function(e){for(var t=e.length,n=new Array(t),r=0;t>r;r++)n[r]=e[r];return n},i=function(e,t,n){var r=e.length;if(void 0!==r&&void 0===e.nodeType)for(var i=0;r>i;i++)t.call(n,e[i],i,e);else t.call(n,e,0,e);return e},o=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];return n.forEach(function(t){for(var n in t)e[n]=t[n]}),e},u=function(e){return e.filter(function(t,n){return e.indexOf(t)===n})},s=!1,c=/^\s*<(\w+|!)[^>]*>/,f=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,a=/^[\.#]?[\w-]*$/,l=function(e){var t=arguments.length<=1||void 0===arguments[1]?document:arguments[1],n=void 0;if(e){if(e instanceof m)return e;"string"!=typeof e?n=e.nodeType||e===window?[e]:e:c.test(e)?n=v(e):(t="string"==typeof t?document.querySelector(t):t.length?t[0]:t,n=p(e,t))}else n=document.querySelectorAll(null);return y(n)},d=function(e){var t=[];return i(this,function(n){return i(p(e,n),function(e){-1===t.indexOf(e)&&t.push(e)})}),l(t)},h=function(){var e="undefined"!=typeof Element?Element.prototype:n,t=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return function(e,n){return t.call(e,n)}}(),p=function(e,t){var n=a.test(e);if(n){if("#"===e[0]){var r=(t.getElementById?t:document).getElementById(e.slice(1));return r?[r]:[]}return"."===e[0]?t.getElementsByClassName(e.slice(1)):t.getElementsByTagName(e)}return t.querySelectorAll(e)},v=function(e){if(f.test(e))return[document.createElement(RegExp.$1)];var t=[],n=document.createElement("div"),r=n.childNodes;n.innerHTML=e;for(var i=0,o=r.length;o>i;i++)t.push(r[i]);return t},y=function(e){return s||(m.prototype=l.fn,m.prototype.constructor=m,s=!0),new m(e)},m=function(e){for(var t=0,n=e.length;n>t;)this[t]=e[t++];this.length=n},b=Object.freeze({get $(){return l},find:d,matches:h,Wrapper:m}),g=Array.prototype,E=g.every,N=function(e,t){var n="function"==typeof e?e:function(t){return h(t,e)};return l(g.filter.call(this,n,t))},C=function(e,t){return i(this,e,t)},O=C,j=g.indexOf,T=g.map,w=g.pop,A=g.push,L=g.reduce,z=g.reduceRight,D=function(){return l(r(this).reverse())},_=g.shift,M=g.some,S=g.unshift,x=Object.freeze({every:E,filter:N,forEach:C,each:O,indexOf:j,map:T,pop:w,push:A,reduce:L,reduceRight:z,reverse:D,shift:_,some:M,unshift:S}),P=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},H=function(e){return e.replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()})},I=function(e){return e.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase()},B=function(e,t){var n=void 0,r=void 0,o=void 0;if("string"==typeof e){if(e=H(e),"undefined"==typeof t){var u=this.nodeType?this:this[0];if(u)return o=u.style[e],P(o)?parseFloat(o):o;return}n={},n[e]=t}else{n=e;for(r in n)o=n[r],delete n[r],n[H(r)]=o}return i(this,function(e){for(r in n)n[r]||0===n[r]?e.style[r]=n[r]:e.style.removeProperty(I(r))}),this},$=Object.freeze({css:B}),k=Array.prototype.forEach,F=function(e){if(this instanceof Node)if("string"==typeof e)this.insertAdjacentHTML("beforeend",e);else if(e instanceof Node)this.appendChild(e);else{var t=e instanceof NodeList?r(e):e;k.call(t,this.appendChild.bind(this))}else Z(this,F,e);return this},q=function(e){if(this instanceof Node)if("string"==typeof e)this.insertAdjacentHTML("afterbegin",e);else if(e instanceof Node)this.insertBefore(e,this.firstChild);else{var t=e instanceof NodeList?r(e):e;k.call(t.reverse(),q.bind(this))}else Z(this,q,e);return this},R=function(e){if(this instanceof Node)if("string"==typeof e)this.insertAdjacentHTML("beforebegin",e);else if(e instanceof Node)this.parentNode.insertBefore(e,this);else{var t=e instanceof NodeList?r(e):e;k.call(t,R.bind(this))}else Z(this,R,e);return this},U=function(e){if(this instanceof Node)if("string"==typeof e)this.insertAdjacentHTML("afterend",e);else if(e instanceof Node)this.parentNode.insertBefore(e,this.nextSibling);else{var t=e instanceof NodeList?r(e):e;k.call(t.reverse(),U.bind(this))}else Z(this,U,e);return this},W=function(){return l(K(this))},K=function(e){return"string"==typeof e?e:e instanceof Node?e.cloneNode(!0):"length"in e?[].map.call(e,function(e){return e.cloneNode(!0)}):e},Z=function(e,t,n){for(var r=e.length;r--;){var i=0===r?n:K(n);t.call(e[r],i)}},G=Object.freeze({append:F,prepend:q,before:R,after:U,clone:W,_clone:K,_each:Z}),J=function(e,t){if("string"==typeof e&&"undefined"==typeof t){var n=this.nodeType?this:this[0];return n?n.getAttribute(e):void 0}return i(this,function(n){if("object"==typeof e)for(var r in e)n.setAttribute(r,e[r]);else n.setAttribute(e,t)})},Q=function(e){return i(this,function(t){return t.removeAttribute(e)})},V=Object.freeze({attr:J,removeAttr:Q}),X=function(e){return e&&e.length&&i(e.split(" "),ne.bind(this,"add")),this},Y=function(e){return e&&e.length&&i(e.split(" "),ne.bind(this,"remove")),this},ee=function(e){return e&&e.length&&i(e.split(" "),ne.bind(this,"toggle")),this},te=function(e){return(this.nodeType?[this]:this).some(function(t){return t.classList.contains(e)})},ne=function(e,t){return i(this,function(n){return n.classList[e](t)})},re=Object.freeze({addClass:X,removeClass:Y,toggleClass:ee,hasClass:te}),ie=function(e,t){return e&&t&&e!==t?e.contains?e.contains(t):e.compareDocumentPosition?!(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_DISCONNECTED):!1:!1},oe=Object.freeze({contains:ie}),ue="__DOMTASTIC_DATA__",se=function(e,t){if("string"==typeof e&&"undefined"==typeof t){var n=this.nodeType?this:this[0];return n&&n[ue]?n[ue][e]:void 0}return i(this,function(n){n[ue]=n[ue]||{},n[ue][e]=t})},ce=function(e,t){if("string"==typeof e&&"undefined"==typeof t){var n=this.nodeType?this:this[0];return n&&n?n[e]:void 0}return i(this,function(n){return n[e]=t})},fe=Object.freeze({data:se,prop:ce}),ae=function(e){var t="string"==typeof e?l(e):e;return F.call(t,this),this},le=function(){return i(this,function(e){return e.innerHTML=""})},de=function(){return i(this,function(e){e.parentNode&&e.parentNode.removeChild(e)})},he=function(){return R.apply(this,arguments).remove()},pe=function(e){return void 0===e?this[0].textContent:i(this,function(t){return t.textContent=""+e})},ve=function(e){return void 0===e?this[0].value:i(this,function(t){return t.value=e})},ye=Object.freeze({appendTo:ae,empty:le,remove:de,replaceWith:he,text:pe,val:ve}),me=function(e){if("string"!=typeof e){var t=this.nodeType?this:this[0];return t?t.innerHTML:void 0}return i(this,function(t){return t.innerHTML=e})},be=Object.freeze({html:me}),ge=function(){var e=function(e,t){var n=[];return i(this,function(r){for(;r&&r!==t;){if(h(r,e)){n.push(r);break}r=r.parentElement}}),l(u(n))};return"undefined"!=typeof Element&&Element.prototype.closest?function(t,n){var r=this;if(n)return e.call(this,t,n);var o=function(){var e=[];return i(r,function(n){var r=n.closest(t);r&&e.push(r)}),{v:l(u(e))}}();return"object"==typeof o?o.v:void 0}:e}(),Ee=Object.freeze({closest:ge}),Ne=this,Ce=function(e,t,n,r,o){var u=this;"function"==typeof t&&(n=t,t=null);var s=void 0,c=void 0,f=void 0;return e.split(" ").forEach(function(a){s=a.split("."),a=s[0]||null,c=s[1]||null,f=_e(n),i(u,function(i){t&&(f=Se.bind(i,t,f)),o&&!function(){var o=f;f=function(u){Oe.call(i,e,t,n,r),o.call(i,u)}}(),i.addEventListener(a,f,r||!1),ze(i).push({eventName:a,handler:n,eventListener:f,selector:t,namespace:c})})},this),this},Oe=function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=arguments[1],n=this,r=arguments[2],o=arguments[3];"function"==typeof t&&(r=t,t=null);var u=void 0,s=void 0,c=void 0;return e.split(" ").forEach(function(e){return u=e.split("."),e=u[0]||null,s=u[1]||null,i(n,function(n){c=ze(n),i(c.filter(function(n){return!(e&&n.eventName!==e||s&&n.namespace!==s||r&&n.handler!==r||t&&n.selector!==t)}),function(e){n.removeEventListener(e.eventName,e.eventListener,o||!1),c.splice(c.indexOf(e),1)}),e||s||t||r?0===c.length&&De(n):De(n)})},this),this},je=function(e,t,n,r){return Ce.call(this,e,t,n,r,1)},Te="__domtastic_event__",we=1,Ae={},Le=[],ze=function(e){e[Te]||(e[Te]=0===Le.length?++we:Le.pop());var t=e[Te];return Ae[t]||(Ae[t]=[])},De=function(e){var t=e[Te];Ae[t]&&(Ae[t]=null,e[Te]=null,Le.push(t))},_e=function(e){return function(t){return e.call(this,Me(t),t.detail)}},Me=function(){var e=void 0,t={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"},n=function(){return!0},r=function(){return!1};return function(i){if(!i.isDefaultPrevented||i.stopImmediatePropagation||i.stopPropagation){for(e in t)!function(e,t,o){i[e]=function(){return this[t]=n,o&&o.apply(this,arguments)},i[t]=r}(e,t[e],i[e]);i._preventDefault&&i.preventDefault()}return i}}(),Se=function(e,t,n){var r=n._target||n.target,i=ge.call([r],e,Ne)[0];i&&i!==Ne&&(i!==r&&n.isPropagationStopped&&n.isPropagationStopped()||t.call(i,n))},xe=Ce,Pe=Oe,He=Object.freeze({on:Ce,off:Oe,one:je,getHandlers:ze,clearHandlers:De,proxyHandler:_e,delegateHandler:Se,bind:xe,unbind:Pe}),Ie=/^(?:mouse|pointer|contextmenu)|click/,Be=/^key/,$e=function(e,t){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=n.bubbles,o=void 0===r?!0:r,u=n.cancelable,s=void 0===u?!0:u,c=n.preventDefault,f=void 0===c?!1:c,a=ke(e),l=new a(e,{bubbles:o,cancelable:s,preventDefault:f,detail:t});return l._preventDefault=f,i(this,function(n){!o||Ke||qe(n)?We(n,l):Re(n,e,{bubbles:o,cancelable:s,preventDefault:f,detail:t})})},ke=function(e){return Ze?Ie.test(e)?MouseEvent:Be.test(e)?KeyboardEvent:CustomEvent:CustomEvent},Fe=function(e,t){this[0]&&$e.call(this[0],e,t,{bubbles:!1,preventDefault:!0})},qe=function(e){return e===window||e===document?!0:ie(e.ownerDocument.documentElement,e)},Re=function(e,t){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];n.bubbles=!1;var r=new CustomEvent(t,n);r._target=e;do We(e,r);while(e=e.parentNode)},Ue=["blur","focus","select","submit"],We=function(e,t){-1===Ue.indexOf(t.type)||"function"!=typeof e[t.type]||t._preventDefault||t.cancelable?e.dispatchEvent(t):e[t.type]()};!function(){var e=function(e){var t=arguments.length<=1||void 0===arguments[1]?{bubbles:!1,cancelable:!1,detail:void 0}:arguments[1],n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};e.prototype=n.CustomEvent&&n.CustomEvent.prototype,n.CustomEvent=e}();var Ke=function(){var e=!1,t=n.document;if(t){var r=t.createElement("div"),i=r.cloneNode();r.appendChild(i),r.addEventListener("e",function(){e=!0}),i.dispatchEvent(new CustomEvent("e",{bubbles:!0}))}return e}(),Ze=function(){try{new window.MouseEvent("click")}catch(e){return!1}return!0}(),Ge=Object.freeze({trigger:$e,triggerHandler:Fe}),Je=function(e){return/complete|loaded|interactive/.test(document.readyState)&&document.body?e():document.addEventListener("DOMContentLoaded",e,!1),this},Qe=Object.freeze({ready:Je}),Ve=n.$,Xe=function(){return n.$=Ve,this},Ye=Object.freeze({noConflict:Xe}),et=function(e){var t=[];return i(this,function(n){n.children&&i(n.children,function(n){(!e||e&&h(n,e))&&t.push(n)})}),l(t)},tt=function(){var e=[];return i(this,function(t){return e.push.apply(e,r(t.childNodes))}),l(e)},nt=function(e){return ut.call(this,e,e+1)},rt=function(e){return this[e]},it=function(e){var t=[];return i(this,function(n){(!e||e&&h(n.parentNode,e))&&t.push(n.parentNode)}),l(t)},ot=function(e){var t=[];return i(this,function(n){return i(n.parentNode.children,function(r){r!==n&&(!e||e&&h(r,e))&&t.push(r)})}),l(t)},ut=function(e,t){return l([].slice.apply(this,arguments))},st=Object.freeze({children:et,contents:tt,eq:nt,get:rt,parent:it,siblings:ot,slice:ut}),ct=function(e){return"function"==typeof e},ft=Array.isArray,at=Object.freeze({isFunction:ct,isArray:ft}),lt={},dt={};"undefined"!=typeof b&&(dt=l,dt.matches=h,lt.find=d),o(dt,oe,Ye,at),o(lt,x,$,V,G,re,fe,ye,be,He,Ge,Qe,Ee,st),dt.fn=lt,dt.version="0.12.1",dt.extend=o,"undefined"!=typeof t&&(dt.BaseClass=t(dt.fn));var ht=dt;return ht});
//# sourceMappingURL=domtastic.min.js.map
