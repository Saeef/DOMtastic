!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.$=t()}(this,function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t="undefined"!=typeof window?window:{},n=function(e){for(var t=e.length,n=new Array(t),i=0;i<t;i++)n[i]=e[i];return n},i=function(e,t,n){var i=e.length;if(void 0!==i&&void 0===e.nodeType)for(var r=0;r<i;r++)t.call(n,e[r],r,e);else t.call(n,e,0,e);return e},r=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.forEach(function(t){for(var n in t)e[n]=t[n]}),e},o=function(e){return e.filter(function(t,n){return e.indexOf(t)===n})},u=!1,s=/^\s*<(\w+|!)[^>]*>/,c=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,f=/^[\.#]?[\w-]*$/,domtastic=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=void 0;if(e){if(e instanceof DOMtastic)return e;"string"!=typeof e?n=e.nodeType||e===window?[e]:e:s.test(e)?n=p(e):(t="string"==typeof t?document.querySelector(t):t.length?t[0]:t,n=h(e,t))}else n=document.querySelectorAll(null);return v(n)},a=domtastic,l=function(e){var t=[];return i(this,function(n){return i(h(e,n),function(e){t.indexOf(e)===-1&&t.push(e)})}),a(t)},d=function(){var e="undefined"!=typeof Element?Element.prototype:t,n=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return function(e,t){return n.call(e,t)}}(),h=function(e,t){if(f.test(e)){if("#"===e[0]){var n=(t.getElementById?t:document).getElementById(e.slice(1));return n?[n]:[]}return"."===e[0]?t.getElementsByClassName(e.slice(1)):t.getElementsByTagName(e)}return t.querySelectorAll(e)},p=function(e){if(c.test(e))return[document.createElement(RegExp.$1)];var t=[],n=document.createElement("div"),i=n.childNodes;n.innerHTML=e;for(var r=0,o=i.length;r<o;r++)t.push(i[r]);return t},v=function(e){return u||(DOMtastic.prototype=a.fn,DOMtastic.prototype.constructor=DOMtastic,u=!0),new DOMtastic(e)},DOMtastic=function(e){for(var t=0,n=e.length;t<n;)this[t]=e[t++];this.length=n},m=Object.freeze({$:a,find:l,matches:d,DOMtastic:DOMtastic}),y=Array.prototype,b=y.every,g=function(e,t){var n="function"==typeof e?e:function(t){return d(t,e)};return a(y.filter.call(this,n,t))},E=function(e,t){return i(this,e,t)},N=E,C=y.indexOf,O=y.map,T=y.pop,j=y.push,w=y.reduce,A=y.reduceRight,L=function(){return a(n(this).reverse())},D=y.shift,z=y.some,_=y.unshift,M=Object.freeze({every:b,filter:g,forEach:E,each:N,indexOf:C,map:O,pop:T,push:j,reduce:w,reduceRight:A,reverse:L,shift:D,some:z,unshift:_}),x=function(t){var n=function t(){e(this,t),DOMtastic.call(this,a.apply(void 0,arguments))};return r(n.prototype,t),n},S=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},P=function(e){return e.replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()})},H=function(e){return e.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase()},I=function(e,t){var n=void 0,r=void 0,o=void 0;if("string"==typeof e){if(e=P(e),void 0===t){var u=this.nodeType?this:this[0];if(u)return o=u.style[e],S(o)?parseFloat(o):o;return}n={},n[e]=t}else{n=e;for(r in n)o=n[r],delete n[r],n[P(r)]=o}return i(this,function(e){for(r in n)n[r]||0===n[r]?e.style[r]=n[r]:e.style.removeProperty(H(r))}),this},$=Object.freeze({css:I}),B=Array.prototype.forEach,k=function(e){if(this instanceof Node)if("string"==typeof e)this.insertAdjacentHTML("beforeend",e);else if(e instanceof Node)this.appendChild(e);else{var t=e instanceof NodeList?n(e):e;B.call(t,this.appendChild.bind(this))}else W(this,k,e);return this},q=function(e){if(this instanceof Node)if("string"==typeof e)this.insertAdjacentHTML("afterbegin",e);else if(e instanceof Node)this.insertBefore(e,this.firstChild);else{var t=e instanceof NodeList?n(e):e;B.call(t.reverse(),q.bind(this))}else W(this,q,e);return this},F=function(e){if(this instanceof Node)if("string"==typeof e)this.insertAdjacentHTML("beforebegin",e);else if(e instanceof Node)this.parentNode.insertBefore(e,this);else{var t=e instanceof NodeList?n(e):e;B.call(t,F.bind(this))}else W(this,F,e);return this},R=function(e){if(this instanceof Node)if("string"==typeof e)this.insertAdjacentHTML("afterend",e);else if(e instanceof Node)this.parentNode.insertBefore(e,this.nextSibling);else{var t=e instanceof NodeList?n(e):e;B.call(t.reverse(),R.bind(this))}else W(this,R,e);return this},U=function(){return a(K(this))},K=function(e){return"string"==typeof e?e:e instanceof Node?e.cloneNode(!0):"length"in e?[].map.call(e,function(e){return e.cloneNode(!0)}):e},W=function(e,t,n){for(var i=e.length;i--;){var r=0===i?n:K(n);t.call(e[i],r)}},Z=Object.freeze({append:k,prepend:q,before:F,after:R,clone:U,_clone:K,_each:W}),G=function(e,t){if("string"==typeof e&&void 0===t){var n=this.nodeType?this:this[0];return n?n.getAttribute(e):void 0}return i(this,function(n){if("object"==typeof e)for(var i in e)n.setAttribute(i,e[i]);else n.setAttribute(e,t)})},J=function(e){return i(this,function(t){return t.removeAttribute(e)})},Q=Object.freeze({attr:G,removeAttr:J}),V=function(e){return e&&e.length&&i(e.split(" "),te.bind(this,"add")),this},X=function(e){return e&&e.length&&i(e.split(" "),te.bind(this,"remove")),this},Y=function(e,t){if(e&&e.length){var n="boolean"==typeof t?t?"add":"remove":"toggle";i(e.split(" "),te.bind(this,n))}return this},ee=function(e){return(this.nodeType?[this]:this).some(function(t){return t.classList.contains(e)})},te=function(e,t){return i(this,function(n){return n.classList[e](t)})},ne=Object.freeze({addClass:V,removeClass:X,toggleClass:Y,hasClass:ee}),ie=function(e,t){return!(!e||!t||e===t)&&(e.contains?e.contains(t):!!e.compareDocumentPosition&&!(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_DISCONNECTED))},re=Object.freeze({contains:ie}),oe="undefined"!=typeof document&&"dataset"in document.documentElement,ue=oe?"dataset":"__DOMTASTIC_DATA__",se=function(e,t){if("string"==typeof e&&void 0===t){var n=this.nodeType?this:this[0];return n&&ue in n?n[ue][e]:void 0}return i(this,function(n){oe||(n[ue]=n[ue]||{}),n[ue][e]=t})},ce=function(e,t){if("string"==typeof e&&void 0===t){var n=this.nodeType?this:this[0];return n&&n?n[e]:void 0}return i(this,function(n){return n[e]=t})},fe=Object.freeze({data:se,prop:ce}),ae=function(e){var t="string"==typeof e?a(e):e;return k.call(t,this),this},le=function(){return i(this,function(e){return e.innerHTML=""})},de=function(){return i(this,function(e){e.parentNode&&e.parentNode.removeChild(e)})},he=function(){return F.apply(this,arguments).remove()},pe=function(e){return void 0===e?this[0].textContent:i(this,function(t){return t.textContent=""+e})},ve=function(e){return void 0===e?this[0].value:i(this,function(t){return t.value=e})},me=Object.freeze({appendTo:ae,empty:le,remove:de,replaceWith:he,text:pe,val:ve}),ye=function(e){if("string"!=typeof e){var t=this.nodeType?this:this[0];return t?t.innerHTML:void 0}return i(this,function(t){return t.innerHTML=e})},be=Object.freeze({html:ye}),ge=function(){var e=function(e,t){var n=[];return i(this,function(i){for(;i&&i!==t;){if(d(i,e)){n.push(i);break}i=i.parentElement}}),a(o(n))};return"undefined"!=typeof Element&&Element.prototype.closest?function(t,n){if(n)return e.call(this,t,n);var r=[];return i(this,function(e){var n=e.closest(t);n&&r.push(n)}),a(o(r))}:e}(),Ee=Object.freeze({closest:ge}),Ne=function(e,t,n,r,o){var u=this;"function"==typeof t&&(n=t,t=null);var s=void 0,c=void 0,f=void 0;return e.split(" ").forEach(function(a){s=a.split("."),a=s[0]||null,c=s[1]||null,f=ze(n),i(u,function(i){if(t&&(f=Pe.bind(i,t,f)),o){var u=f;f=function(o){Ce.call(i,e,t,n,r),u.call(i,o)}}i.addEventListener(a,f,r||!1),Le(i).push({eventName:a,handler:n,eventListener:f,selector:t,namespace:c})})},this),this},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],n=this,r=arguments[2],o=arguments[3];"function"==typeof t&&(r=t,t=null);var u=void 0,s=void 0,c=void 0;return e.split(" ").forEach(function(e){return u=e.split("."),e=u[0]||null,s=u[1]||null,i(n,function(n){c=Le(n),i(c.filter(function(n){return!(e&&n.eventName!==e||s&&n.namespace!==s||r&&n.handler!==r||t&&n.selector!==t)}),function(e){n.removeEventListener(e.eventName,e.eventListener,o||!1),c.splice(c.indexOf(e),1)}),e||s||t||r?0===c.length&&De(n):De(n)})},this),this},Oe=function(e,t,n,i){return Ne.call(this,e,t,n,i,1)},Te="__domtastic_event__",je=1,we={},Ae=[],Le=function(e){e[Te]||(e[Te]=0===Ae.length?++je:Ae.pop());var t=e[Te];return we[t]||(we[t]=[])},De=function(e){var t=e[Te];we[t]&&(we[t]=null,e[Te]=null,Ae.push(t))},ze=function(e){return function(t){return e.call(this,Se(t))}},_e={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"},Me=function(){return!0},xe=function(){return!1},Se=function(e){if(!e.isDefaultPrevented||e.stopImmediatePropagation||e.stopPropagation){for(var t in _e)!function(t,n,i){e[t]=function(){return this[n]=Me,i&&i.apply(this,arguments)},e[n]=xe}(t,_e[t],e[t]);e._preventDefault&&e.preventDefault()}return e},Pe=function(e,t,n){var i=n._target||n.target,r=ge.call([i],e,this)[0];r&&r!==this&&(r!==i&&n.isPropagationStopped&&n.isPropagationStopped()||t.call(r,n))},He=Ne,Ie=Ce,$e=Object.freeze({on:Ne,off:Ce,one:Oe,getHandlers:Le,clearHandlers:De,proxyHandler:ze,delegateHandler:Pe,bind:He,unbind:Ie}),Be=/^(?:mouse|pointer|contextmenu)|click/,ke=/^key/,qe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.bubbles,o=void 0===r||r,u=n.cancelable,s=void 0===u||u,c=n.preventDefault,f=void 0!==c&&c,a=Fe(e),l=new a(e,{bubbles:o,cancelable:s,preventDefault:f,detail:t});return l._preventDefault=f,i(this,function(n){!o||Ge||Ue(n)?Ze(n,l):Ke(n,e,{bubbles:o,cancelable:s,preventDefault:f,detail:t})})},Fe=function(e){return Je?Be.test(e)?MouseEvent:ke.test(e)?KeyboardEvent:CustomEvent:CustomEvent},Re=function(e,t){this[0]&&qe.call(this[0],e,t,{bubbles:!1,preventDefault:!0})},Ue=function(e){return e===window||e===document||ie(e.ownerDocument.documentElement,e)},Ke=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.bubbles=!1;var i=new CustomEvent(t,n);i._target=e;do{Ze(e,i)}while(e=e.parentNode)},We=["blur","focus","select","submit"],Ze=function(e,t){We.indexOf(t.type)===-1||"function"!=typeof e[t.type]||t._preventDefault||t.cancelable?e.dispatchEvent(t):e[t.type]()};!function(){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{bubbles:!1,cancelable:!1,detail:void 0},n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};e.prototype=t.CustomEvent&&t.CustomEvent.prototype,t.CustomEvent=e}();var Ge=function(){var e=!1,n=t.document;if(n){var i=n.createElement("div"),r=i.cloneNode();i.appendChild(r),i.addEventListener("e",function(){e=!0}),r.dispatchEvent(new CustomEvent("e",{bubbles:!0}))}return e}(),Je=function(){try{new MouseEvent("click")}catch(e){return!1}return!0}(),Qe=Object.freeze({trigger:qe,triggerHandler:Re}),Ve=function(e){return/complete|loaded|interactive/.test(document.readyState)&&document.body?e():document.addEventListener("DOMContentLoaded",e,!1),this},Xe=Object.freeze({ready:Ve}),Ye=t.$,et=function(){return t.$=Ye,this},tt=Object.freeze({noConflict:et}),nt=function(e){var t=[];return i(this,function(n){n.children&&i(n.children,function(n){(!e||e&&d(n,e))&&t.push(n)})}),a(t)},it=function(e){var t=this;return i(a(e),function(e){[].indexOf.call(t,e)===-1&&[].push.call(t,e)}),this},rt=function(){var e=[];return i(this,function(t){return e.push.apply(e,n(t.childNodes))}),a(e)},ot=function(e){return at.call(this,e,e+1)},ut=function(){return at.call(this,0,1)},st=function(e){return this[e]},ct=function(e){var t=[];return i(this,function(n){(!e||e&&d(n.parentNode,e))&&t.push(n.parentNode)}),a(t)},ft=function(e){var t=[];return i(this,function(n){return i(n.parentNode.children,function(i){i!==n&&(!e||e&&d(i,e))&&t.push(i)})}),a(t)},at=function(e,t){return a([].slice.apply(this,arguments))},lt=Object.freeze({children:nt,concat:it,contents:rt,eq:ot,first:ut,get:st,parent:ct,siblings:ft,slice:at}),dt=function(e){return"function"==typeof e},ht=Array.isArray,pt=Object.freeze({isFunction:dt,isArray:ht}),vt={},mt={};return void 0!==m&&(mt=a,mt.matches=d,vt.find=l),r(mt,re,tt,pt),r(vt,M,$,Q,Z,ne,fe,me,be,$e,Qe,Xe,Ee,lt),mt.fn=vt,mt.version="0.15.0",mt.extend=r,void 0!==x&&(mt.BaseClass=x(mt.fn)),mt});
//# sourceMappingURL=domtastic.min.js.map
